---
title: 构造函数和析构函数
tags: C++
category: CS大学生必备
---

# 构造函数和析构函数

## 描述

构造函数 ，是一种特殊的方法。主要用来在创建对象时初始化对象， 即为对象成员变量赋初始值，总与new运算符一起使用在创建对象的语句中。特别的一个类可以有多个构造函数 ，可根据其参数个数的不同或参数类型的不同来区分它们 即构造函数的重载。

析构函数(destructor) 与构造函数相反，当对象结束其生命周期时（例如对象所在的函数已调用完毕），系统自动执行析构函数。析构函数往往用来做“清理善后” 的工作（例如在建立对象时用new开辟了一片内存空间，delete会自动调用析构函数后释放内存）。

 

析构函数如果我们不写的话，C++ 会帮我们自动的合成一个，就是说：C++ 会自动的帮我们写一个析构函数。很多时候，自动生成的析构函数可以很好的工作，但是一些重要的事迹，就必须我们自己去写析构函数。 
析构函数和构造函数是一对。构造函数用于创建对象，而析构函数是用来撤销对象。简单的说：一个对象出生的时候，使用构造函数，死掉的时候，使用析构函数。

 

## 构造函数与析构函数的调用顺序：

父类构造->子类构造->子类析构->父类析构

或 父类构造->成员变量构造->子类构造->子类析构->成员变量析构->父类析构

即：

![20180731100401174.png](https://i.loli.net/2020/03/17/jWbEq6P8VpZQLw7.png)

![949783-20180417104227869-811942323.png](https://i.loli.net/2020/03/17/YKzjgPU5nOTZsqI.png)

## 注意

1、基类没有缺省构造函数,派生类必须要在初始化列表中显式给出基类名和参数列表。
2、基类没有定义构造函数,则派生类也可以不用定义,全部使用缺省构造函数。
3、基类定义了带有形参表构造函数,派生类就一定要定义构造函数。

转自https://www.cnblogs.com/Kiven5197/p/8862382.html